<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Random State</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.project #system #author label{vertical-align:top;}article.project #system #author ul{display:inline-block;margin:0;padding:0;list-style:none;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}</style> </head> <body> <article class="project"> <header>   <h1>random state</h1>   <span class="version">1.0.1</span>    <p class="description">Portable random number generation.</p>   </header> <section id="documentation"><article><h2 id="about random-state">About random-state</h2><p>This is a collection of pseudo random number generators (PRNGs) and quasi-random number generators (QRNGs). While Common Lisp does provide a <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM" class="xref">RANDOM</a></code> function, it does not allow the user to pass an explicit seed, nor to portably exchange the random state between implementations. This can be a headache in cases like games, where a controlled seeding process is very useful.</p><h2 id="how to">How To</h2><p>For both curiosity and convenience, this library offers multiple algorithms to generate random numbers, as well as a bunch of generally useful methods to produce desired ranges.</p><code style="display:block" class="code-block" data-language="common lisp"><pre>(<a href="http://l1sp.org/cl/loop" class="xref">loop</a> with generator = (<a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">random-state:make-generator</a> :mersenne-twister-32 123)
      repeat 10
      collect (<a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">random-state:random-int</a> generator 0 10))
; =&gt; (8 10 9 5 3 10 9 2 9 2)</pre></code><p>Several methods to compute random numbers in certain ranges are provided in advance: <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTE" class="xref">random-byte</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">random-bytes</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-SEQUENCE" class="xref">random-sequence</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT" class="xref">random-unit</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-FLOAT" class="xref">random-float</a></code>, and <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">random-int</a></code>. Each of those can also be used with just the name of the generator you'd like to use as the first argument, in which case a global instance will be used.</p><p>For generators that are hash-based, such as <code><a href="#STRUCTURE%20RANDOM-STATE%3ASQUIRREL" class="xref">squirrel</a></code>, additional noise functions are provided: <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-1D" class="xref">random-1d</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-2D" class="xref">random-2d</a></code>, and <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-3D" class="xref">random-3d</a></code>, and some functions to manipulate the stepping of the generator: <code><a href="#FUNCTION%20RANDOM-STATE%3AINDEX" class="xref">index</a></code>, and <code><a href="#COMPILER-MACRO%20RANDOM-STATE%3AREWIND" class="xref">rewind</a></code>.</p><h2 id="implementations">Implementations</h2><p>The following algorithms are currently implemented:</p><ul><li><p>Adler</p></li><li><p>Cityhash</p></li><li><p>Generic QRNG</p></li><li><p>Hammersley</p></li><li><p>KISS</p></li><li><p>Linear Congruence</p></li><li><p>Mersenne Twister</p></li><li><p>Middle Square</p></li><li><p>Murmurhash</p></li><li><p>PCG</p></li><li><p>RC4</p></li><li><p>Sobol</p></li><li><p>Squirrelhash</p></li><li><p>TT800</p></li><li><p>XKCD</p></li><li><p>Xorshift / Yorshift RNGs</p></li></ul><p>The protocol also implements a fallback to the implementation's own <code><a href="#STRUCTURE%20RANDOM-STATE%3ARANDOM-STATE" class="xref">random-state</a></code>.</p></article></section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.0.1</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="https://Shinmera.github.io/documentation-utils/">documentation-utils</a></li></ul> </div>   <div class="row" id="author"> <label for="author">Author:</label> <a href="mailto:shinmera@tymoon.eu">Yukari Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/LICENSE">zlib</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://Shinmera.github.io/random-state/">https://Shinmera.github.io/random-state/</a> </div>   <div class="row"> <label for="bug-tracker">Bug Tracker:</label> <a id="bug-tracker" href="https://github.com/Shinmera/random-state/issues">https://github.com/Shinmera/random-state/issues</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/Shinmera/random-state.git">https://github.com/Shinmera/random-state.git</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE RANDOM-STATE"> <header> <h3> <a href="#PACKAGE%20RANDOM-STATE">RANDOM-STATE</a> </h3> <ul class="nicknames"> <li>ORG.SHIRAKUMO.RANDOM-STATE</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE RANDOM-STATE:*GENERATOR*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20RANDOM-STATE%3A%2AGENERATOR%2A">*GENERATOR*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L3">Source</a>  </header> <div class="docstring"><pre>The default random number generator used by RANDOM.

See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM" class="xref">RANDOM</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:ADLER32"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AADLER32">ADLER32</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/adler32.lisp#L3">Source</a>  </header> <div class="docstring"><pre>An RNG based on the Adler32 hash.

See <a href="https://en.wikipedia.org/wiki/Adler-32" class="exref">https://en.wikipedia.org/wiki/Adler-32</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:CITYHASH-64"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ACITYHASH-64">CITYHASH-64</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/cityhash.lisp#L3">Source</a>  </header> <div class="docstring"><pre>An RNG based on the 64-bit CityHash.

See <a href="https://github.com/google/cityhash" class="exref">https://github.com/google/cityhash</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR">GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L37">Source</a>  </header> <div class="docstring"><pre>General class for any random number generator.

See <a href="#FUNCTION%20RANDOM-STATE%3ALIST-GENERATOR-TYPES" class="xref">LIST-GENERATOR-TYPES</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ASEED" class="xref">SEED</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ARESEED" class="xref">RESEED</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ABITS-PER-BYTE" class="xref">BITS-PER-BYTE</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ACOPY" class="xref">COPY</a>
See <a href="#FUNCTION%20RANDOM-STATE%3AMULTIVARIATE-P" class="xref">MULTIVARIATE-P</a>
See <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">MAKE-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3ASTATEFUL-GENERATOR" class="xref">STATEFUL-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:HAMMERSLEY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AHAMMERSLEY">HAMMERSLEY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/hammersley.lisp#L3">Source</a>  </header> <div class="docstring"><pre>The Hammersley quasi-random number sequence.

This is a multivariate generator with default dimensionality of 3.
To change the dimensionality, pass a :LEAP initarg that is an array of
the desired dimensionality. Each element in the LEAP array should be
an integer greater or equal to 1, and can be used to advance the
sequence more quickly for each dimension.

See <a href="https://en.wikipedia.org/wiki/Low-discrepancy_sequence" class="exref">https://en.wikipedia.org/wiki/Low-discrepancy_sequence</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:HASH-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR">HASH-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L187">Source</a>  </header> <div class="docstring"><pre>Superclass for all generators that rely on a hashing function to generate numbers.

These generators are special in that numbers for any index can be
generated, so they can be rewound or arbitrarily stepped in their
sequence.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3AINDEX" class="xref">INDEX</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3AREWIND" class="xref">REWIND</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:KISS11"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AKISS11">KISS11</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/kiss.lisp#L3">Source</a>  </header> <div class="docstring"><pre>An implementation of the Kiss11 RNG.

See <a href="https://eprint.iacr.org/2011/007.pdf" class="exref">https://eprint.iacr.org/2011/007.pdf</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:LINEAR-CONGRUENCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ALINEAR-CONGRUENCE">LINEAR-CONGRUENCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/linear-congruence.lisp#L3">Source</a>  </header> <div class="docstring"><pre>A very simple random number generator based on linear congruence.

See <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator" class="exref">https://en.wikipedia.org/wiki/Linear_congruential_generator</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MERSENNE-TWISTER-32"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMERSENNE-TWISTER-32">MERSENNE-TWISTER-32</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/mersenne-twister.lisp#L57">Source</a>  </header> <div class="docstring"><pre>The de-facto standard random number generator algorithm.

See <a href="https://en.wikipedia.org/wiki/Mersenne_Twister" class="exref">https://en.wikipedia.org/wiki/Mersenne_Twister</a>
See <a href="http://www.acclab.helsinki.fi/~knordlun/mc/mt19937.c" class="exref">http://www.acclab.helsinki.fi/~knordlun/mc/mt19937.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MERSENNE-TWISTER-64"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMERSENNE-TWISTER-64">MERSENNE-TWISTER-64</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/mersenne-twister.lisp#L72">Source</a>  </header> <div class="docstring"><pre>A 64 bit variant of the Mersenne Twister algorithm.

See <a href="#STRUCTURE%20RANDOM-STATE%3AMERSENNE-TWISTER-32" class="xref">MERSENNE-TWISTER-32</a>
See <a href="http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/VERSIONS/C-LANG/mt19937-64.c" class="exref">http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/VERSIONS/C-LANG/mt19937-64.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MIDDLE-SQUARE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMIDDLE-SQUARE">MIDDLE-SQUARE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/middle-square.lisp#L4">Source</a>  </header> <div class="docstring"><pre>An incredibly primitive, and basically in practise useless, random number algorithm.

See <a href="https://en.wikipedia.org/wiki/Middle-square_method" class="exref">https://en.wikipedia.org/wiki/Middle-square_method</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MURMURHASH3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMURMURHASH3">MURMURHASH3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/murmurhash.lisp#L3">Source</a>  </header> <div class="docstring"><pre>A hash-based RNG using the Murmurhash3 method.

See <a href="https://en.wikipedia.org/wiki/MurmurHash" class="exref">https://en.wikipedia.org/wiki/MurmurHash</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:PCG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3APCG">PCG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/pcg.lisp#L3">Source</a>  </header> <div class="docstring"><pre>An adaptation of the PCG rng.

See <a href="http://www.pcg-random.org" class="exref">http://www.pcg-random.org</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:QUASI"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AQUASI">QUASI</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/quasi.lisp#L3">Source</a>  </header> <div class="docstring"><pre>A quasi-random number generator based on a uniform RNG.

When constructing the generator you may pass the :SOURCE initarg,
which should be a GENERATOR instance to use as a source of
randomness. By default the current value of *GENERATOR* is used.

See <a href="https://en.wikipedia.org/wiki/Low-discrepancy_sequence" class="exref">https://en.wikipedia.org/wiki/Low-discrepancy_sequence</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:RC4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ARC4">RC4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/rc4.lisp#L3">Source</a>  </header> <div class="docstring"><pre>The RC4 cryptographic random number generator.

See <a href="https://en.wikipedia.org/wiki/RC4" class="exref">https://en.wikipedia.org/wiki/RC4</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:SOBOL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ASOBOL">SOBOL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/sobol.lisp#L742">Source</a>  </header> <div class="docstring"><pre>The Sobol quasi-random number sequence.

This is a multivariate generator with default dimensionality of 3.
You can pass the :DIM initarg to specify the dimensionality of the
result. :DIM must be in [ 1, 1111 [

See <a href="https://en.wikipedia.org/wiki/Low-discrepancy_sequence" class="exref">https://en.wikipedia.org/wiki/Low-discrepancy_sequence</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:SQUIRREL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ASQUIRREL">SQUIRREL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/squirrel.lisp#L3">Source</a>  </header> <div class="docstring"><pre>An adaptation of the &quot;squirrel hash v3&quot;.

See <a href="https://www.youtube.com/watch?v=LWFzPP8ZbdU" class="exref">https://www.youtube.com/watch?v=LWFzPP8ZbdU</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:STATEFUL-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ASTATEFUL-GENERATOR">STATEFUL-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L170">Source</a>  </header> <div class="docstring"><pre>Superclass for all generators that rely on state to produce random numbers.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:TT800"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ATT800">TT800</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/tt800.lisp#L6">Source</a>  </header> <div class="docstring"><pre>The predecessor to the Mersenne Twister algorithm.

See <a href="http://random.mat.sbg.ac.at/publics/ftp/pub/data/tt800.c" class="exref">http://random.mat.sbg.ac.at/publics/ftp/pub/data/tt800.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XKCD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXKCD">XKCD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xkcd.lisp#L3">Source</a>  </header> <div class="docstring"><pre>XKCD-221 random number generator

See <a href="https://xkcd.com/221/" class="exref">https://xkcd.com/221/</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORSHIFT-1024*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-1024%2A">XORSHIFT-1024*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L136">Source</a>  </header> <div class="docstring"><pre>Sixteen 64-bit word state variation of XORSHIFT-64*.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-64%2A" class="xref">XORSHIFT-64*</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORSHIFT-128"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-128">XORSHIFT-128</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L91">Source</a>  </header> <div class="docstring"><pre>The four times 32-bit word state variant of the Xorshift algorithm.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-32" class="xref">XORSHIFT-32</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORSHIFT-128+"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-128%2B">XORSHIFT-128+</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L152">Source</a>  </header> <div class="docstring"><pre>Non-linear double 64-bit state variant of XORSHIFT-64 that's currently the standard on modern browsers' JavaScript engines.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-64" class="xref">XORSHIFT-64</a>
See <a href="https://en.wikipedia.org/wiki/Xorshift#xorshift+" class="exref">https://en.wikipedia.org/wiki/Xorshift#xorshift+</a>
See <a href="https://v8.dev/blog/math-random" class="exref">https://v8.dev/blog/math-random</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORSHIFT-32"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-32">XORSHIFT-32</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L79">Source</a>  </header> <div class="docstring"><pre>Linear 32-bit word state shift-register generator.

See <a href="https://en.wikipedia.org/wiki/Xorshift" class="exref">https://en.wikipedia.org/wiki/Xorshift</a>
See <a href="https://www.jstatsoft.org/article/view/v008i14" class="exref">https://www.jstatsoft.org/article/view/v008i14</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORSHIFT-64"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-64">XORSHIFT-64</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L85">Source</a>  </header> <div class="docstring"><pre>The 64-bit variant of the Xorshift algorithm..

See <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-32" class="xref">XORSHIFT-32</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORSHIFT-64*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-64%2A">XORSHIFT-64*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L127">Source</a>  </header> <div class="docstring"><pre>Non-linear variation of XORSHIFT-64 by adding a modulo multiplier.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-64" class="xref">XORSHIFT-64</a>
See <a href="https://en.wikipedia.org/wiki/Xorshift#xorshift*" class="exref">https://en.wikipedia.org/wiki/Xorshift#xorshift*</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XORWOW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXORWOW">XORWOW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L108">Source</a>  </header> <div class="docstring"><pre>Non-linear five times 32-bit word state shift-register generator.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXORSHIFT-128" class="xref">XORSHIFT-128</a>
See <a href="https://en.wikipedia.org/wiki/Xorshift#xorwow" class="exref">https://en.wikipedia.org/wiki/Xorshift#xorwow</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XOSHIRO-128**"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-128%2A%2A">XOSHIRO-128**</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L203">Source</a>  </header> <div class="docstring"><pre>32-bit variant of XOSHIRO-256**.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-256%2A%2A" class="xref">XOSHIRO-256**</a>
See <a href="https://prng.di.unimi.it/xoshiro128starstar.c" class="exref">https://prng.di.unimi.it/xoshiro128starstar.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XOSHIRO-128+"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-128%2B">XOSHIRO-128+</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L226">Source</a>  </header> <div class="docstring"><pre>32-bit variant of XOSHIRO-256+.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-256%2B" class="xref">XOSHIRO-256+</a>
See <a href="https://prng.di.unimi.it/xoshiro128plus.c" class="exref">https://prng.di.unimi.it/xoshiro128plus.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XOSHIRO-256**"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-256%2A%2A">XOSHIRO-256**</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L234">Source</a>  </header> <div class="docstring"><pre>Non-linear rotating general-purpose 64-bit number algorithm.

See <a href="https://prng.di.unimi.it/" class="exref">https://prng.di.unimi.it/</a>
See <a href="https://prng.di.unimi.it/xoshiro256starstar.c" class="exref">https://prng.di.unimi.it/xoshiro256starstar.c</a>
See <a href="https://en.wikipedia.org/wiki/Xorshift#xoshiro" class="exref">https://en.wikipedia.org/wiki/Xorshift#xoshiro</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:XOSHIRO-256+"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-256%2B">XOSHIRO-256+</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/xorshift.lisp#L257">Source</a>  </header> <div class="docstring"><pre>Slightly faster variant of XOSHIRO-256++ meant solely for generating 64-bit floating-point numbers by extracting the upper 53-bits due to the linearity of the lower bits.

See <a href="#STRUCTURE%20RANDOM-STATE%3AXOSHIRO-256%2B%2B" class="xref">XOSHIRO-256++</a>
See <a href="https://prng.di.unimi.it/xoshiro256plus.c" class="exref">https://prng.di.unimi.it/xoshiro256plus.c</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:BENCHMARK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ABENCHMARK">BENCHMARK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">RNG</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SAMPLES</li>    <li class="argument">STREAM</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/toolkit.lisp#L118">Source</a>  </header> <div class="docstring"><pre>Draw a number of samples from an NRG and determine how quickly it operates.

Prints the duration, # samples, samples/s, and s/sample to STREAM.
Returns samples/s.

See <a href="#FUNCTION%20RANDOM-STATE%3ABENCHMARK-ALL" class="xref">BENCHMARK-ALL</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:BENCHMARK-ALL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ABENCHMARK-ALL">BENCHMARK-ALL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SAMPLES</li>    <li class="argument">STREAM</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/toolkit.lisp#L133">Source</a>  </header> <div class="docstring"><pre>Run a benchmark for all known generator types.

When completed, orders the the results from fastest to slowest and
prints them to STREAM. If a generator fails to be benchmarked, its
result is shown as -1.

See <a href="#FUNCTION%20RANDOM-STATE%3ABENCHMARK" class="xref">BENCHMARK</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:DRAW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ADRAW">DRAW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L55">Source</a>  </header> <div class="docstring"><pre>Returns a vector with N random samples in [0,1[.

See <a href="#FUNCTION%20RANDOM-STATE%3AENSURE-GENERATOR" class="xref">ENSURE-GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT" class="xref">RANDOM-UNIT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:ENSURE-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AENSURE-GENERATOR">ENSURE-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR-ISH</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L56">Source</a>  </header> <div class="docstring"><pre>Ensures the argument is an object usable for random number generation.

See <a href="#FUNCTION%20RANDOM-STATE%3AGLOBAL-GENERATOR" class="xref">GLOBAL-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:GLOBAL-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AGLOBAL-GENERATOR">GLOBAL-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L6">Source</a>  </header> <div class="docstring"><pre>Returns a global instance of a generator.

You may also SETF this place to name specific generators of your own.

See <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">MAKE-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:(SETF GLOBAL-GENERATOR)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3A%28SETF%20GLOBAL-GENERATOR%29">(SETF GLOBAL-GENERATOR)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L11">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:HISTOGRAM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AHISTOGRAM">HISTOGRAM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">RNG</li>    <li class="argument">BINS</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SAMPLES</li>    <li class="argument">WIDTH</li>    <li class="argument">STREAM</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/toolkit.lisp#L79">Source</a>  </header> <div class="docstring"><pre>Compute a histogram from the given sample vector.

This will collect the samples into N bins, where the value of the bin
is the contribution of the samples in the bin towards all samples.

See <a href="#FUNCTION%20RANDOM-STATE%3APRINT-HISTOGRAM" class="xref">PRINT-HISTOGRAM</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ADRAW" class="xref">DRAW</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:HOPEFULLY-SUFFICIENTLY-RANDOM-SEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AHOPEFULLY-SUFFICIENTLY-RANDOM-SEED">HOPEFULLY-SUFFICIENTLY-RANDOM-SEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/toolkit.lisp#L19">Source</a>  </header> <div class="docstring"><pre>Attempts to find a sufficiently random seed.

On Unix, this reads 64 bits from /dev/urandom
On Windows+SBCL, this reads 64 bits from SB-WIN32:CRYPT-GEN-RANDOM
Otherwise it uses an XOR of GET-INTERNAL-REAL-TIME and GET-UNIVERSAL-TIME.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:INDEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AINDEX">INDEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L187">Source</a>  </header> <div class="docstring"><pre>Accesses the index of the hash-generator.

The index must be an (unsigned-byte 64).
The index is advanced for each call to NEXT-BYTE.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:(SETF INDEX)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3A%28SETF%20INDEX%29">(SETF INDEX)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L187">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:LIST-GENERATOR-TYPES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ALIST-GENERATOR-TYPES">LIST-GENERATOR-TYPES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L34">Source</a>  </header> <div class="docstring"><pre>Lists the types of generators supported by the library.

You may use any of these types to call MAKE-GENERATOR with.

See <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">MAKE-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:MAKE-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR">MAKE-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">INITARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L83">Source</a>  </header> <div class="docstring"><pre>Creates a new generator of the given type.

You may pass an optional seed to initialise the generator with. If no
seed is specified, each constructed generator of the same type will
return the same sequence of numbers.

See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ARESEED" class="xref">RESEED</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:MULTIVARIATE-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AMULTIVARIATE-P">MULTIVARIATE-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L80">Source</a>  </header> <div class="docstring"><pre>Returns true if the generator is multivariate and returns an array of bytes on NEXT-BYTE.

See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:PRINT-HISTOGRAM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3APRINT-HISTOGRAM">PRINT-HISTOGRAM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HISTOGRAM</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">STREAM</li>    <li class="argument">WIDTH</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/toolkit.lisp#L102">Source</a>  </header> <div class="docstring"><pre>Display the histogram vector in a user-friendly manner.

Prints a visual representation of the deviation of each bin from the
ideal uniform distribution as well as the cumulative deviation of all
bins.

See <a href="#FUNCTION%20RANDOM-STATE%3AHISTOGRAM" class="xref">HISTOGRAM</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM">RANDOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L40">Source</a>  </header> <div class="docstring"><pre>Returns a number in [0, MAX[.

This is a drop-in replacement for CL:RANDOM.
The returned type is the same as MAX, where MAX must be an INTEGER or
a FLOAT greater than zero. The returned number must be smaller than MAX.

GENERATOR may be anything accepted by ENSURE-GENERATOR.

See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">RANDOM-INT</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-FLOAT" class="xref">RANDOM-FLOAT</a>
See <a href="#FUNCTION%20RANDOM-STATE%3AENSURE-GENERATOR" class="xref">ENSURE-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-1D"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-1D">RANDOM-1D</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">INDEX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L60">Source</a>  </header> <div class="docstring"><pre>Returns a byte for the given index and seed.

This is only usable with HASH-GENERATOR types.
Does *NOT* advance the generator's index.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-2D"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-2D">RANDOM-2D</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">X</li>    <li class="argument">Y</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L63">Source</a>  </header> <div class="docstring"><pre>Returns a byte for the given location and seed.

This is only usable with HASH-GENERATOR types.
Does *NOT* advance the generator's index.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-3D"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-3D">RANDOM-3D</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">X</li>    <li class="argument">Y</li>    <li class="argument">Z</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L66">Source</a>  </header> <div class="docstring"><pre>Returns a byte for the given location and seed.

This is only usable with HASH-GENERATOR types.
Does *NOT* advance the generator's index.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-BYTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTE">RANDOM-BYTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Alias for NEXT-BYTE.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-BYTES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES">RANDOM-BYTES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">BITS</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L73">Source</a>  </header> <div class="docstring"><pre>Returns an (UNSIGNED-BYTE BITS) sized random number.

May advance the generator more than once.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-FLOAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-FLOAT">RANDOM-FLOAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">FROM</li>    <li class="argument">TO</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L119">Source</a>  </header> <div class="docstring"><pre>Returns a random float in [FROM, TO].

The returned float is of the same type as whatever type is larger
between FROM and TO.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT" class="xref">RANDOM-UNIT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-INT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT">RANDOM-INT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">FROM</li>    <li class="argument">TO</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L126">Source</a>  </header> <div class="docstring"><pre>Returns a random integer in [FROM, TO].

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">RANDOM-BYTES</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-SEQUENCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-SEQUENCE">RANDOM-SEQUENCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">SEQUENCE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L97">Source</a>  </header> <div class="docstring"><pre>Fills SEQUENCE between START and END with random numbers.

Note: it is up to you to ensure that SEQUENCE is capable of holding
numbers returned by the generator's NEXT-BYTE, and that doing so makes
sense. As in, do not fill a vector with element-type (unsigned-byte 8)
with a generator whose BITS-PER-BYTE is 32 or vice-versa.

Equivalent to:

  (map-into sequence (lambda () (next-byte generator)))

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-UNIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT">RANDOM-UNIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/protocol.lisp#L109">Source</a>  </header> <div class="docstring"><pre>Returns a random float in [0, 1].

The returned float is of the type specified in TYPE.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">RANDOM-BYTES</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:BITS-PER-BYTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ABITS-PER-BYTE">BITS-PER-BYTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L77">Source</a>  </header> <div class="docstring"><pre>Returns the number of bits of randomness returned by the generator for each NEXT-BYTE call.

This may either be an integer, describing the bits of randomness returned,
the symbol SINGLE-FLOAT or DOUBLE-FLOAT in which case NEXT-BYTE returns a unit float,
or a list composed of the aforementioned, in which case NEXT-BYTE returns an array
of such bytes.

See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:COPY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ACOPY">COPY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L78">Source</a>  </header> <div class="docstring"><pre>Creates a fresh copy of the given generator.

This copy will return an identical sequence of bytes as the
original. Meaning, the following invariant holds true:

  (loop with copy = (copy generator) always (= (next-byte generator) (next-byte copy)))

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:NEXT-BYTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ANEXT-BYTE">NEXT-BYTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L76">Source</a>  </header> <div class="docstring"><pre>Returns the next byte (not octet) of random state.

The value returned is in accordance to the spec of BITS-PER-BYTE.
If the spec is an integer, the returned integer must be in the range
of

  [ 0, 1 &lt;&lt; BITS-PER-BYTE GENERATOR [

If the spec is SINGLE-FLOAT or DOUBLE-FLOAT, the returned float must
be in the range of

  [ 0, 1 [

If the spec is a list, the returned value is an array with each of its
elements according to the above description.

See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">RANDOM-INT</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">RANDOM-BYTES</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:RESEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ARESEED">RESEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">NEW-SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L74">Source</a>  </header> <div class="docstring"><pre>Reset the RNG and seed it with the given seed number.

If T is passed for the new seed, a random seed as determined by
HOPEFULLY-SUFFICIENTLY-RANDOM-SEED is used.

See <a href="#FUNCTION%20RANDOM-STATE%3AHOPEFULLY-SUFFICIENTLY-RANDOM-SEED" class="xref">HOPEFULLY-SUFFICIENTLY-RANDOM-SEED</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:REWIND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3AREWIND">REWIND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HASH-GENERATOR</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">BY</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L195">Source</a>  </header> <div class="docstring"><pre>Rewind the hash-generator by BY numbers.

The following invariant holds for any N:

  (= (next-byte generator) (progn (rewind generator N) (loop repeat (1- N) (next-byte generator)) (next-byte generator)))

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:SEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ASEED">SEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L71">Source</a>  </header> <div class="docstring"><pre>Returns the seed that was used to initialise the generator.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RANDOM-STATE:DEFINE-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RANDOM-STATE%3ADEFINE-GENERATOR">DEFINE-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">BITS-PER-BYTE</li>    <li class="argument">SUPER</li>    <li class="argument">SLOTS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODIES</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/a6c2a06a82b877413c07a701abaee29a91aec3bc/generator.lisp#L95">Source</a>  </header> <div class="docstring"><pre>Define a new random number generator type.

BITS-PER-BYTE is a form that should evaluate to the byte spec for the
generator.

SUPER should be a list of the following structure:

  SUPER     ::= (type SLOT*)
  SLOT      ::= (slot-name initform)
  type      --- The structure-type name to use as supertype
  slot-name --- The name of a slot in the supertype
  initform  --- The initial value for the slot

SLOTS should be a list of additional structure slot specs to hold the
generator's state.

BODIES should be any number of body expressions, each of which is a
list composed of a body type and any number of body forms, each of
which are evaluated in an environment where every specified slot in
SLOTS as well as every specified supertype slot in SUPER is
symbol-macrolet-bound to their respective name. The following body
types are permitted:

  :COPY   --- Provides the body forms for the COPY function. The
              generator instance is bound to GENERATOR. If this body
              expression is not provided, a copy function based on the
              SLOTS is automatically provided for you.
              This must be provided for HASH-GENERATORs.
  :RESEED --- Provides the body forms for the RESEED function. The
              generator instance is bound to GENERATOR and the seed to
              SEED.
              This must be provided for STATEFUL-GENERATORs.
  :NEXT   --- Provides the body forms for the NEXT-BYTE function. The
              generator instance is bound to GENERATOR. Must return a
              suitable byte for the generator.
              This must be provided for STATEFUL-GENERATORs.
  :HASH   --- Provides the stateless hashing function. The generator
              instance is notably NOT bound. However, the 64-bit index
              to hash is bound to INDEX. This will also automatically
              provide the NEXT-BYTE function for you.
              This must be provided for HASH-GENERATORs.

Each of the additional bindings in the body expressions is bound to a
symbol from the current package.

See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ABITS-PER-BYTE" class="xref">BITS-PER-BYTE</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ARESEED" class="xref">RESEED</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3AHASH" class="xref">HASH</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ACOPY" class="xref">COPY</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3ASTATEFUL-GENERATOR" class="xref">STATEFUL-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM RANDOM-STATE:INDEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20RANDOM-STATE%3AINDEX">INDEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM RANDOM-STATE:(SETF INDEX)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20RANDOM-STATE%3A%28SETF%20INDEX%29">(SETF INDEX)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 