<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Random State</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;} </style> </head> <body> <article class="project"> <header>   <h1>random state</h1>   <span class="version">0.1.0</span>    <p class="description">Portable random number generation.</p>   </header> <section id="documentation"><article><h2 id="about random-state">About random-state</h2><p>This is a collection of pseudo random number generators (PRNGs). While Common Lisp does provide a <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM" class="xref">RANDOM</a></code> function, it does not allow the user to pass an explicit seed, nor to portably exchange the random state between implementations. This can be a headache in cases like games, where a controlled seeding process is very useful.</p><h2 id="how to">How To</h2><p>For both curiosity and convenience, this library offers multiple algorithms to generate random numbers, as well as a bunch of generally useful methods to produce desired ranges.</p><code style="display:block" class="code-block" data-language="common lisp"><pre>(<a href="http://l1sp.org/cl/loop" class="xref">loop</a> with generator = (<a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">random-state:make-generator</a> :mersenne-twister-32 123)
      repeat 10
      collect (<a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">random-state:random-int</a> generator 0 10))
; =&gt; (8 10 9 5 3 10 9 2 9 2)</pre></code><p>Several methods to compute random numbers in certain ranges are provided in advance: <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTE" class="xref">random-byte</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">random-bytes</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-SEQUENCE" class="xref">random-sequence</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT" class="xref">random-unit</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-FLOAT" class="xref">random-float</a></code>, and <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">random-int</a></code>. Each of those can also be used with just the name of the generator you'd like to use as the first argument, in which case a global instance will be used.</p><p>For generators that are hash-based, such as <code><a href="#STRUCTURE%20RANDOM-STATE%3ASQUIRREL" class="xref">squirrel</a></code>, additional noise functions are provided: <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-1D" class="xref">random-1d</a></code>, <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-2D" class="xref">random-2d</a></code>, and <code><a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-3D" class="xref">random-3d</a></code>, and some functions to manipulate the stepping of the generator: <code><a href="#FUNCTION%20RANDOM-STATE%3AINDEX" class="xref">index</a></code>, and <code><a href="#COMPILER-MACRO%20RANDOM-STATE%3AREWIND" class="xref">rewind</a></code>.</p></article></section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">0.1.0</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="https://Shinmera.github.io/documentation-utils/">documentation-utils</a></li></ul> </div>   <div class="row"> <label for="author">Author:</label> <a id="author" href="mailto:shinmera@tymoon.eu">Nicolas Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/Shinmera/random-state/blob/master/LICENSE">zlib</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://Shinmera.github.io/random-state/">https://Shinmera.github.io/random-state/</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/Shinmera/random-state.git">https://github.com/Shinmera/random-state.git</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE RANDOM-STATE"> <header> <h3> <a href="#PACKAGE%20RANDOM-STATE">RANDOM-STATE</a> </h3> <ul class="nicknames"> <li>ORG.SHIRAKUMO.RANDOM-STATE</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR">GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L42">Source</a>  </header> <div class="docstring"><pre>General class for any random number generator.

See <a href="#FUNCTION%20RANDOM-STATE%3ALIST-GENERATOR-TYPES" class="xref">LIST-GENERATOR-TYPES</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ASEED" class="xref">SEED</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ARESEED" class="xref">RESEED</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ABITS-PER-BYTE" class="xref">BITS-PER-BYTE</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ACOPY" class="xref">COPY</a>
See <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">MAKE-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3ASTATEFUL-GENERATOR" class="xref">STATEFUL-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:HASH-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR">HASH-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L160">Source</a>  </header> <div class="docstring"><pre>Superclass for all generators that rely on a hashing function to generate numbers.

These generators are special in that numbers for any index can be
generated, so they can be rewound or arbitrarily stepped in their
sequence.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3AINDEX" class="xref">INDEX</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3AREWIND" class="xref">REWIND</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:LINEAR-CONGRUENCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ALINEAR-CONGRUENCE">LINEAR-CONGRUENCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/linear-congruence.lisp#L9">Source</a>  </header> <div class="docstring"><pre>A very simple random number generator based on linear congruence.

See <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator" class="exref">https://en.wikipedia.org/wiki/Linear_congruential_generator</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MERSENNE-TWISTER-32"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMERSENNE-TWISTER-32">MERSENNE-TWISTER-32</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/mersenne-twister.lisp#L63">Source</a>  </header> <div class="docstring"><pre>The de-facto standard random number generator algorithm.

See <a href="https://en.wikipedia.org/wiki/Mersenne_Twister" class="exref">https://en.wikipedia.org/wiki/Mersenne_Twister</a>
See <a href="http://www.acclab.helsinki.fi/~knordlun/mc/mt19937.c" class="exref">http://www.acclab.helsinki.fi/~knordlun/mc/mt19937.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MERSENNE-TWISTER-64"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMERSENNE-TWISTER-64">MERSENNE-TWISTER-64</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/mersenne-twister.lisp#L78">Source</a>  </header> <div class="docstring"><pre>A 64 bit variant of the Mersenne Twister algorithm.

See <a href="#STRUCTURE%20RANDOM-STATE%3AMERSENNE-TWISTER-32" class="xref">MERSENNE-TWISTER-32</a>
See <a href="http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/VERSIONS/C-LANG/mt19937-64.c" class="exref">http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/VERSIONS/C-LANG/mt19937-64.c</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:MIDDLE-SQUARE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3AMIDDLE-SQUARE">MIDDLE-SQUARE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/middle-square.lisp#L10">Source</a>  </header> <div class="docstring"><pre>An incredibly primitive, and basically in practise useless, random number algorithm.

See <a href="https://en.wikipedia.org/wiki/Middle-square_method" class="exref">https://en.wikipedia.org/wiki/Middle-square_method</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:PCG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3APCG">PCG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/pcg.lisp#L9">Source</a>  </header> <div class="docstring"><pre>An adaptation of the PCG rng.

See <a href="http://www.pcg-random.org" class="exref">http://www.pcg-random.org</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:RC4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ARC4">RC4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/rc4.lisp#L9">Source</a>  </header> <div class="docstring"><pre>The RC4 cryptographic random number generator.

See <a href="https://en.wikipedia.org/wiki/RC4" class="exref">https://en.wikipedia.org/wiki/RC4</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:SQUIRREL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ASQUIRREL">SQUIRREL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/squirrel.lisp#L9">Source</a>  </header> <div class="docstring"><pre>An adaptation of the &quot;squirrel hash v3&quot;.

See <a href="https://www.youtube.com/watch?v=LWFzPP8ZbdU" class="exref">https://www.youtube.com/watch?v=LWFzPP8ZbdU</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:STATEFUL-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ASTATEFUL-GENERATOR">STATEFUL-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L143">Source</a>  </header> <div class="docstring"><pre>Superclass for all generators that rely on state to produce random numbers.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE RANDOM-STATE:TT800"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%20RANDOM-STATE%3ATT800">TT800</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/tt800.lisp#L12">Source</a>  </header> <div class="docstring"><pre>The predecessor to the Mersenne Twister algorithm.

See <a href="http://random.mat.sbg.ac.at/publics/ftp/pub/data/tt800.c" class="exref">http://random.mat.sbg.ac.at/publics/ftp/pub/data/tt800.c</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:ENSURE-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AENSURE-GENERATOR">ENSURE-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR-ISH</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L52">Source</a>  </header> <div class="docstring"><pre>Ensures the argument is an object usable for random number generation.

See <a href="#FUNCTION%20RANDOM-STATE%3AGLOBAL-GENERATOR" class="xref">GLOBAL-GENERATOR</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:GLOBAL-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AGLOBAL-GENERATOR">GLOBAL-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L12">Source</a>  </header> <div class="docstring"><pre>Returns a global instance of a generator.

You may also SETF this place to name specific generators of your own.

See <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">MAKE-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:(SETF GLOBAL-GENERATOR)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3A%28SETF%20GLOBAL-GENERATOR%29">(SETF GLOBAL-GENERATOR)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L17">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:HOPEFULLY-SUFFICIENTLY-RANDOM-SEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AHOPEFULLY-SUFFICIENTLY-RANDOM-SEED">HOPEFULLY-SUFFICIENTLY-RANDOM-SEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/toolkit.lisp#L25">Source</a>  </header> <div class="docstring"><pre>Attempts to find a sufficiently random seed.

On Unix, this reads 64 bits from /dev/urandom
On Windows+SBCL, this reads 64 bits from SB-WIN32:CRYPT-GEN-RANDOM
Otherwise it uses an XOR of GET-INTERNAL-REAL-TIME and GET-UNIVERSAL-TIME.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:INDEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AINDEX">INDEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L160">Source</a>  </header> <div class="docstring"><pre>Accesses the index of the hash-generator.

The index must be an (unsigned-byte 64).
The index is advanced for each call to NEXT-BYTE.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:(SETF INDEX)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3A%28SETF%20INDEX%29">(SETF INDEX)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L160">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:LIST-GENERATOR-TYPES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ALIST-GENERATOR-TYPES">LIST-GENERATOR-TYPES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L39">Source</a>  </header> <div class="docstring"><pre>Lists the types of generators supported by the library.

You may use any of these types to call MAKE-GENERATOR with.

See <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR" class="xref">MAKE-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:MAKE-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3AMAKE-GENERATOR">MAKE-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TYPE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">INITARGS</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L73">Source</a>  </header> <div class="docstring"><pre>Creates a new generator of the given type.

You may pass an optional seed to initialise the generator with. If no
seed is specified, each constructed generator of the same type will
return the same sequence of numbers.

See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ARESEED" class="xref">RESEED</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-1D"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-1D">RANDOM-1D</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">INDEX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L9">Source</a>  </header> <div class="docstring"><pre>Returns a byte for the given index and seed.

This is only usable with HASH-GENERATOR types.
Does *NOT* advance the generator's index.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-2D"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-2D">RANDOM-2D</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">X</li>    <li class="argument">Y</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L12">Source</a>  </header> <div class="docstring"><pre>Returns a byte for the given location and seed.

This is only usable with HASH-GENERATOR types.
Does *NOT* advance the generator's index.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-3D"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-3D">RANDOM-3D</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">X</li>    <li class="argument">Y</li>    <li class="argument">Z</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L15">Source</a>  </header> <div class="docstring"><pre>Returns a byte for the given location and seed.

This is only usable with HASH-GENERATOR types.
Does *NOT* advance the generator's index.

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-BYTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTE">RANDOM-BYTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L18">Source</a>  </header> <div class="docstring"><pre>Alias for NEXT-BYTE.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-BYTES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES">RANDOM-BYTES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">BITS</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L22">Source</a>  </header> <div class="docstring"><pre>Returns an (UNSIGNED-BYTE BITS) sized random number.

May advance the generator more than once.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-FLOAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-FLOAT">RANDOM-FLOAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">FROM</li>    <li class="argument">TO</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L66">Source</a>  </header> <div class="docstring"><pre>Returns a random float in [FROM, TO].

The returned float is of the same type as whatever type is larger
between FROM and TO.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT" class="xref">RANDOM-UNIT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-INT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT">RANDOM-INT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">FROM</li>    <li class="argument">TO</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L100">Source</a>  </header> <div class="docstring"><pre>Returns a random integer in [FROM, TO].

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">RANDOM-BYTES</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-SEQUENCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-SEQUENCE">RANDOM-SEQUENCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">SEQUENCE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L42">Source</a>  </header> <div class="docstring"><pre>Fills SEQUENCE between START and END with random numbers.

Note: it is up to you to ensure that SEQUENCE is capable of holding
numbers returned by the generator's NEXT-BYTE, and that doing so makes
sense. As in, do not fill a vector with element-type (unsigned-byte 8)
with a generator whose BITS-PER-BYTE is 32 or vice-versa.

Equivalent to:

  (map-into sequence (lambda () (next-byte generator)))

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION RANDOM-STATE:RANDOM-UNIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-UNIT">RANDOM-UNIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/protocol.lisp#L54">Source</a>  </header> <div class="docstring"><pre>Returns a random float in [0, 1].

The returned float is of the type specified in TYPE.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">RANDOM-BYTES</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:BITS-PER-BYTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ABITS-PER-BYTE">BITS-PER-BYTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L70">Source</a>  </header> <div class="docstring"><pre>Returns the number of bits of randomness returned by the generator for each NEXT-BYTE call.

See <a href="#COMPILER-MACRO%20RANDOM-STATE%3ANEXT-BYTE" class="xref">NEXT-BYTE</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:COPY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ACOPY">COPY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L71">Source</a>  </header> <div class="docstring"><pre>Creates a fresh copy of the given generator.

This copy will return an identical sequence of bytes as the
original. Meaning, the following invariant holds true:

  (loop with copy = (copy generator) always (= (next-byte generator) (next-byte copy)))

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:NEXT-BYTE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ANEXT-BYTE">NEXT-BYTE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L69">Source</a>  </header> <div class="docstring"><pre>Returns the next byte (not octet) of random state.

The returned integer must be in the range of
  [ 0, 1 &lt;&lt; BITS-PER-BYTE GENERATOR [

See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-INT" class="xref">RANDOM-INT</a>
See <a href="#FUNCTION%20RANDOM-STATE%3ARANDOM-BYTES" class="xref">RANDOM-BYTES</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:RESEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ARESEED">RESEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>    <li class="argument">NEW-SEED</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L68">Source</a>  </header> <div class="docstring"><pre>Reset the RNG and seed it with the given seed number.

If T is passed for the new seed, a random seed as determined by
HOPEFULLY-SUFFICIENTLY-RANDOM-SEED is used.

See <a href="#FUNCTION%20RANDOM-STATE%3AHOPEFULLY-SUFFICIENTLY-RANDOM-SEED" class="xref">HOPEFULLY-SUFFICIENTLY-RANDOM-SEED</a>
See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:REWIND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3AREWIND">REWIND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HASH-GENERATOR</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">BY</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L168">Source</a>  </header> <div class="docstring"><pre>Rewind the hash-generator by BY numbers.

The following invariant holds for any N:

  (= (next-byte generator) (progn (rewind generator N) (loop repeat (1- N) (next-byte generator)) (next-byte generator)))

See <a href="#STRUCTURE%20RANDOM-STATE%3AHASH-GENERATOR" class="xref">HASH-GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION RANDOM-STATE:SEED"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20RANDOM-STATE%3ASEED">SEED</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">GENERATOR</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L67">Source</a>  </header> <div class="docstring"><pre>Returns the seed that was used to initialise the generator.

See <a href="#STRUCTURE%20RANDOM-STATE%3AGENERATOR" class="xref">GENERATOR</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION RANDOM-STATE:DEFINE-GENERATOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20RANDOM-STATE%3ADEFINE-GENERATOR">DEFINE-GENERATOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">BITS-PER-BYTE</li>    <li class="argument">SUPER</li>    <li class="argument">SLOTS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODIES</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/random-state/blob/master/generator.lisp#L85">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM RANDOM-STATE:INDEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20RANDOM-STATE%3AINDEX">INDEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition source-transform" id="SOURCE-TRANSFORM RANDOM-STATE:(SETF INDEX)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SOURCE-TRANSFORM</span> <h4 class="name"> <a href="#SOURCE-TRANSFORM%20RANDOM-STATE%3A%28SETF%20INDEX%29">(SETF INDEX)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 